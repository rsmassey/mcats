import numpy as np
import pandas as pd
import os

from logistic_model import train_and_classify
import audio_to_df
import feature_extraction
import file_to_prediction

from ml_logic.params import (
    LOCAL_DATA_PATH
)

if __name__ == '__main__':

    X = [0.5950934439356832,0.3594963072660557,1.0088000032564726,0.7476058747275188,0.7915812148966233,0.8186881163595673,-0.4692716320403781,0.7999054514877968,-0.42199216058439004,1.5115984282649577,-1.113683143995462,-1.081549880964375,-0.8398399811487582,0.0741099906826363,-0.7495136468172295,-0.15305064775747543,-0.4060736190156858,1.004790003231142,-0.8061709537634768,-0.003248022335303631,-0.7564456783773127,0.7270058037577669,-0.6554180115567635,-0.011255246017942871,-1.229590812460745,0.8180950825516761,-1.0341292485204512,0.30253805819701907,-0.8009337431407867,0.46518956426457264,-0.058022162639550665,-0.2054904226889189,-0.9792445483814147,0.5074537820952012,-0.8512310019620174,-0.3783132622948069,-0.8531083214805093,0.45307921840540694,-0.5487194259488185,0.1551777167731894,-0.8513466122646144,0.00304672786925544,-0.8775891127375396,-0.5592416872747711,-0.745583091334903,-1.0996997135182898,-0.768934917548757,-0.7474174570819225,-0.10915923958628192,-0.49167069954501846,-0.09149375434037264,-1.2007038856533758,-0.21577669348194123,-1.7693757180374985,0.18035714288383,-1.1757120241296626,0.18135560338463283,-1.1370157867524053,0.40646278201980524,-0.26213297673368496,0.3015931334667439,-0.3458395584029608,0.36974109586263926,0.06800163764854383,0.25434118866695316,-1.0711149466883985,-0.41186788297830923,-1.4120303356810597,-0.09374846927565336,-0.08597166879076243,1.0036640515449633,1.5145821050434265,0.13656843328080234,-0.2599631789535121,-0.1125678908749132,0.19836677568787942,0.5119108673363708,-0.748378023656885,-0.17831540959348008,-0.6976786328839079,-0.24570080047071802,-1.3952130614679423,-0.5406545448905693,0.02846232577452591,0.5029535144129637,0.5557613927084343,0.562594607372455,2.2063044918669417,-0.033172028616405516]

    try:
        print('Let\'s go the app is thinking !!')
        #Transform  the audio input into usable data

        #Preprocess the raw data


        #train a model and use the provided input to classify
        result = train_and_classify(X)
        print(f'The genre of the provided song is: {result}')

    except:
        import ipdb, traceback, sys
        extype, value, tb = sys.exc_info()
        traceback.print_exc()
        ipdb.post_mortem(tb)
